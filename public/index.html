<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>NDMarket AI Insight Platform</title>
    <link rel="stylesheet" href="/styles.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
  </head>
  <body>
    <!-- Header -->
    <header class="header">
      <div class="container">
        <div class="header-content">
          <h1 class="logo">
            <i class="fas fa-chart-line"></i> NDMarket AI Insight Platform
          </h1>
          <nav class="nav">
            <button class="nav-btn active" data-page="query">
              <i class="fas fa-comments"></i> AI 질의
            </button>
            <button class="nav-btn" data-page="search">
              <i class="fas fa-search"></i> 시맨틱 검색
            </button>
            <button class="nav-btn" data-page="history">
              <i class="fas fa-history"></i> 히스토리
            </button>
            <button class="nav-btn" data-page="metrics">
              <i class="fas fa-chart-bar"></i> 메트릭
            </button>
          </nav>
        </div>
      </div>
    </header>

    <!-- Main Content -->
    <main class="main">
      <div class="container">
        <!-- AI Query Page -->
        <div id="query-page" class="page active">
          <div class="page-header">
            <h2><i class="fas fa-robot"></i> AI 자연어 질의</h2>
            <p class="subtitle">
              자연어로 데이터를 질의하고 인사이트를 확인하세요.
            </p>
          </div>

          <div class="query-section">
            <div class="input-group">
              <input
                type="text"
                id="query-input"
                class="query-input"
                placeholder="예: 최근 30일간 가장 많이 팔린 상품 Top 10은?"
              />
              <button id="query-submit" class="btn btn-primary">
                <i class="fas fa-search"></i> 질의 실행
              </button>
            </div>
          </div>

          <div id="query-loading" class="loading" style="display: none">
            <i class="fas fa-spinner fa-spin"></i> AI가 분석 중입니다...
          </div>

          <div id="query-result" class="result-container" style="display: none">
            <!-- Results will be inserted here -->
          </div>
        </div>

        <!-- Semantic Search Page -->
        <div id="search-page" class="page">
          <div class="page-header">
            <h2><i class="fas fa-search"></i> 시맨틱 검색</h2>
            <p class="subtitle">의미 기반으로 유사한 상품을 검색합니다.</p>
          </div>

          <div class="search-section">
            <div class="search-controls">
              <div class="radio-group">
                <label>
                  <input
                    type="radio"
                    name="search-type"
                    value="semantic"
                    checked
                  />
                  의미 기반 검색
                </label>
                <label>
                  <input type="radio" name="search-type" value="hybrid" />
                  하이브리드 검색 (의미 + 키워드)
                </label>
              </div>

              <div class="input-group">
                <input
                  type="text"
                  id="search-input"
                  class="query-input"
                  placeholder="예: 여름용 시원한 소재"
                />
                <input
                  type="number"
                  id="search-topk"
                  class="topk-input"
                  value="10"
                  min="5"
                  max="20"
                />
                <button id="search-submit" class="btn btn-primary">
                  <i class="fas fa-search"></i> 검색
                </button>
              </div>
            </div>
          </div>

          <div id="search-loading" class="loading" style="display: none">
            <i class="fas fa-spinner fa-spin"></i> 검색 중...
          </div>

          <div id="search-result" class="result-container" style="display: none">
            <!-- Search results will be inserted here -->
          </div>
        </div>

        <!-- History Page -->
        <div id="history-page" class="page">
          <div class="page-header">
            <h2><i class="fas fa-history"></i> 질의 히스토리</h2>
            <p class="subtitle">과거 질의 기록을 확인하고 재실행할 수 있습니다.</p>
          </div>

          <div id="history-list" class="history-list">
            <div class="empty-state">
              <i class="fas fa-inbox"></i>
              <p>아직 질의 히스토리가 없습니다.</p>
            </div>
          </div>
        </div>

        <!-- Metrics Page -->
        <div id="metrics-page" class="page">
          <div class="page-header">
            <h2><i class="fas fa-chart-bar"></i> 메트릭 대시보드</h2>
            <p class="subtitle">시스템 사용 통계 및 성능 메트릭</p>
          </div>

          <div class="metrics-grid">
            <div class="metric-card">
              <div class="metric-icon">
                <i class="fas fa-question-circle"></i>
              </div>
              <div class="metric-info">
                <h3>총 질의 수</h3>
                <p id="metric-queries" class="metric-value">0</p>
              </div>
            </div>

            <div class="metric-card">
              <div class="metric-icon">
                <i class="fas fa-search"></i>
              </div>
              <div class="metric-info">
                <h3>검색 수</h3>
                <p id="metric-searches" class="metric-value">0</p>
              </div>
            </div>

            <div class="metric-card">
              <div class="metric-icon">
                <i class="fas fa-clock"></i>
              </div>
              <div class="metric-info">
                <h3>평균 응답시간</h3>
                <p id="metric-avgtime" class="metric-value">-</p>
              </div>
            </div>

            <div class="metric-card">
              <div class="metric-icon">
                <i class="fas fa-server"></i>
              </div>
              <div class="metric-info">
                <h3>API 상태</h3>
                <p id="metric-status" class="metric-value">
                  <span class="status-badge status-success">정상</span>
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
      <div class="container">
        <p>&copy; 2025 NDMarket AI Insight Platform. All rights reserved.</p>
      </div>
    </footer>

    <script src="/app.js"></script>
  </body>
</html>
